name: Print DEV Environment Variables (Release Only)

on:
  push:
    branches: [ "develop", "main" ]
    paths:
      - "release/**"

  pull_request:
    branches: [ "develop", "main" ]
    paths:
      - "release/**"

  workflow_dispatch:

jobs:
  print-dev-env:
    runs-on: ubuntu-latest

    # Always print DEV env vars (as you asked)
    environment: snowflake-odw-dev

    steps:
      - uses: actions/checkout@v4

      - name: Print GitHub Context
        run: |
          echo "Triggered because release/ folder changed"
          echo "GitHub Ref: $GITHUB_REF"
          echo "GitHub Ref Name: $GITHUB_REF_NAME"
          echo "GitHub SHA: $GITHUB_SHA"
          echo "Environment: snowflake-odw-dev"

      - name: Print GitHub Environment Variables (vars)
        run: |
          echo "---- GitHub Environment Variables (snowflake-odw-dev) ----"
          echo "SNOWFLAKE_ACCOUNT=${{ vars.SNOWFLAKE_ACCOUNT }}"
          echo "SNOWFLAKE_DATABASE=${{ vars.SNOWFLAKE_DATABASE }}"
          echo "SNOWFLAKE_SCHEMA=${{ vars.SNOWFLAKE_SCHEMA }}"
          echo "SNOWFLAKE_WAREHOUSE=${{ vars.SNOWFLAKE_WAREHOUSE }}"
          echo "SNOWFLAKE_ROLE=${{ vars.SNOWFLAKE_ROLE }}"
          echo "AWS_REGION=${{ vars.AWS_REGION }}"
          echo "AWS_ROLE_ARN=${{ vars.AWS_ROLE_ARN }}"

      - name: Print all runtime environment variables (system)
        run: |
          echo "---- System Variables ----"
          printenv | sort
