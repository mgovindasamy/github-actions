name: Print DEV Environment Variables (Release Only)

on:
  push:
    branches: [ "develop", "main" ]
    paths:
      - "release/**"

  pull_request:
    branches: [ "develop", "main" ]
    paths:
      - "release/**"

  workflow_dispatch:

jobs:
  print-dev-env:
    runs-on: ubuntu-latest

    # Always print DEV env vars (as you asked)
    environment: snowflake-odw-dev

    steps:
      - uses: actions/checkout@v4

      - name: Print GitHub Context
        run: |
          echo "Triggered because release/ folder changed"
          echo "GitHub Ref: $GITHUB_REF"
          echo "GitHub Ref Name: $GITHUB_REF_NAME"
          echo "GitHub SHA: $GITHUB_SHA"
          echo "Environment: snowflake-odw-dev"

      - name: Print GitHub Environment Variables (vars)
        run: |
          echo "---- GitHub Environment Variables (snowflake-odw-dev) ----"
          echo "DEPLOY_ENV=${{ vars.DEPLOY_ENV }}"
          echo "SNOWFLAKE_TIER=${{ vars.SNOWFLAKE_TIER }}"
          echo "TEAM=${{ vars.TEAM }}"
          
      - name: Print all runtime environment variables (system)
        run: |
          echo "---- System Variables ----"
          printenv | sort
